Array_at:
  push rbp
  mov rbp, rsp
  sub rsp, 8

  mov rbp, rax #rbpに配列要素0のアドレスを代入

  mov rax, rbp #変数のアドレスを計算しpush
  sub rax, 8
  push rax

  mov rdi,rdi #引数に代入し右辺をpush
  pop rax
  mov [rax], rdi
  push rdi

  mov rax, rbp #変数のアドレスを計算しpush
  sub rax, 8
  push rax

  pop rax #代入済み変数をpush!
  mov rax, [rax]
  push rax

  pop rax #リターン
  mov rsp, rbp
  pop rbp
  ret